{% extends 'base.html' %}
{% block title %}Home｜issue-management{% endblock title %}

{% block content %}


<!-- メッセージを表示 -->
{% if messages %}
{% for message in messages %}
<div class="text-center alert alert-light">
  {{ message }}
</div>
{% endfor %}
{% endif %}


<!-- メッセージを表示　トースト -->
<!-- {% if messages %}
{% for message in messages %}
<div class="toast align-items-center" role="alert" aria-live="assertive" aria-atomic="true">
  <div class="d-flex">
    <div class="toast-body">
      {{ message }}
    </div>
    <button type="button" class="btn-close me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
  </div>
</div>
{% endfor %}
{% endif %}

<script type="text/javascript">
  let toastElemList = [].slice.call(document.querySelectorAll('.toast'));
  let toastList = toastElemList.map(function (toastElem) {
    let toast = new bootstrap.Toast(toastElem, { autohide: false });
    toast.show();
    return toast;
  });
</script> -->



{% block h1 %}課題リスト{% endblock h1 %}
<div class="table-responsive">
  <table class="table table-hover">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">件名</th>
        <th scope="col">更新日​</th>
        <th scope="col">期限日</th>
        <th scope="col">区分</th>
        <th scope="col">担当者</th>
        <th scope="col">状態</th>
        <th scope="col"></th>
      </tr>
    </thead>
    <tbody>
      {% for issues in object_list %}
      <tr>
        <th scope="row">{{ issues.id }}</th>
        <td>{{ issues.title }}</td>
        <td>{{ issues.date_of_update }}</td>
        <td>{{ issues.deadline }}</td>
        <td>{{ issues.get_type_display }}</td>
        <td>{{ issues.get_person_display }}</td>
        <td>{{ issues.get_progress_display }}</td>
        <td><a href="{% url 'detail' issues.id %}" class="btn btn-secondary">詳細</a></td>

      </tr>

      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}